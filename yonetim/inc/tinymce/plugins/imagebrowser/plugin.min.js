/*
**  Image Browser 1.0.0
**  Plugin for TinyMCE
**  https://github.com/hozakar/imagebrowser-for-tinymce
**
**  Copyright 2014, Hakan Ã–zakar
**  http://beltslib.net
**
**  Licensed under CC0 1.0 Universal Licence:
**  https://creativecommons.org/publicdomain/zero/1.0/
*/
"use strict";tinymce.PluginManager.add("imagebrowser",function(t,i){t.addButton("imagebrowser",{icon:"image",onclick:function(){t.windowManager.open({title:t.getParam("imagebrowser").windowcaption?t.getParam("imagebrowser").windowcaption:"Image Browser",url:i+"/fops.php?lang="+(t.getParam("language")?t.getParam("language"):"")+"&ow="+t.getParam("imagebrowser").overwrite+"&root="+t.getParam("imagebrowser").root,width:.7*$(window).width(),height:.7*$(window).height(),buttons:[{text:tinymce.translate("Ok"),active:!0,classes:"widget btn primary okbtn",onclick:function(){var t=$(tinyMCE.activeEditor.windowManager.getWindows()[0].getContentWindow().document);if(t.find("input[name=selfile]").val()){var i=t.find("input[name=width]").val();i&&(i=i==parseInt(i)?"width: "+i+"px;":"width: "+i),tinyMCE.activeEditor.insertContent('<img src="'+t.find("input[name=selfile]").val()+'" style="float: '+t.find("input[name=float]").val()+"; "+i+'" />')}tinyMCE.activeEditor.windowManager.close()}},{text:tinymce.translate("Cancel"),onclick:function(){tinyMCE.activeEditor.windowManager.close()}}]})}})});