/*
**  Image Browser 1.0.0
**  Plugin for TinyMCE
**  https://github.com/hozakar/imagebrowser-for-tinymce
**
**  Copyright 2014, Hakan Ã–zakar
**  http://beltslib.net
**
**  Licensed under CC0 1.0 Universal Licence:
**  https://creativecommons.org/publicdomain/zero/1.0/
*/
"use strict";tinymce.PluginManager.add("imagebrowser",function(t,n){t.addButton("imagebrowser",{icon:"image",onclick:function(){t.windowManager.open({title:t.getParam("imagebrowser").windowcaption?t.getParam("imagebrowser").windowcaption:"Image Browser",url:n+"/fops.php?lang="+(t.getParam("language")?t.getParam("language"):"")+"&ow="+t.getParam("imagebrowser").overwrite+"&root="+t.getParam("imagebrowser").root,width:.7*$(window).width(),height:.7*$(window).height(),buttons:[{text:tinymce.translate("Ok"),active:!0,classes:"widget btn primary okbtn",onclick:function(){var t=$(tinyMCE.activeEditor.windowManager.getWindows()[0].getContentWindow().document);if(t.find("input[name=selfile]").val()){var n=t.find("input[name=width]").val(),a="margin: 1%;";n&&(n==parseInt(n)?n+="px;":n=n,a=("auto"==n?"1":.03*parseInt(n))+"%;",n="width: "+n);var i="float: "+("none"==t.find("input[name=float]").val()?"none;":("left"==t.find("input[name=float]").val()?"left; margin-right: ":"right; margin-left: ")+a);tinyMCE.activeEditor.insertContent('<img src="'+t.find("input[name=selfile]").val()+'" style="'+i+" "+n+'" alt="'+t.find("input[name=alt]").val()+'" />')}tinyMCE.activeEditor.windowManager.close()}},{text:tinymce.translate("Cancel"),onclick:function(){tinyMCE.activeEditor.windowManager.close()}}]})}})});