"use strict";tinymce.PluginManager.add("imagebrowser",function(t,n){t.addButton("imagebrowser",{icon:"image",onclick:function(){t.windowManager.open({title:t.getParam("imagebrowser").windowcaption?t.getParam("imagebrowser").windowcaption:"Image Browser",url:n+"/fops.php?lang="+(t.getParam("language")?t.getParam("language"):"")+"&ow="+t.getParam("imagebrowser").overwrite+"&root="+t.getParam("imagebrowser").root+"&settoplimit=true",width:.7*$(window).width(),height:.7*$(window).height(),buttons:[{text:tinymce.translate("Ok"),active:!0,classes:"widget btn primary okbtn",onclick:function(){var t=$(tinyMCE.activeEditor.windowManager.getWindows()[0].getContentWindow().document);if(t.find("input[name=selfile]").val()){var n=t.find("input[name=width]").val(),i="margin: 1%;";n&&(n==parseInt(n)?n+="px;":n=n,i=("auto"==n?"1":.03*parseInt(n))+"%;",n="width: "+n);var e="float: "+("none"==t.find("input[name=float]").val()?"none;":("left"==t.find("input[name=float]").val()?"left; margin-right: ":"right; margin-left: ")+i);tinyMCE.activeEditor.insertContent('<img src="'+t.find("input[name=selfile]").val()+'" style="'+e+" "+n+'" alt="'+t.find("input[name=alt]").val()+'" />')}tinyMCE.activeEditor.windowManager.close()}},{text:tinymce.translate("Cancel"),onclick:function(){tinyMCE.activeEditor.windowManager.close()}}]})}})});